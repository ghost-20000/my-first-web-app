<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>reddsec Portal</title>
    <link rel="stylesheet" href="home-style.css">
    <style>
        /* ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¡¨ç¤ºã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .show-password-container {
            display: flex;
            align-items: center;
            margin: 10px 0 20px 0;
            cursor: pointer;
            -webkit-user-select: none;
            user-select: none;
        }
        .show-password-container input[type="checkbox"] {
            width: 16px;
            height: 16px;
            margin-right: 8px;
            cursor: pointer;
        }
        .show-password-container label {
            font-size: 0.9rem;
            color: #8b949e;
            cursor: pointer;
        }
        /* ã‚‚ã¨ã‚‚ã¨ã®ç›®ã®ã‚¢ã‚¤ã‚³ãƒ³ç”¨ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã‚’èª¿æ•´ */
        .password-wrapper {
            position: relative;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="top-menu">
        <div id="auth-area">
            <button id="auth-btn" onclick="openAuthModal()" class="lang-btn trans" data-ja="ã‚µã‚¤ãƒ³ã‚¤ãƒ³" data-en="Sign In">ã‚µã‚¤ãƒ³ã‚¤ãƒ³</button>
            
            <div id="user-logged-in" style="display:none; align-items: center; gap: 10px;">
                <button type="button" onclick="openSettingsModal()" class="lang-btn" id="settings-btn" aria-label="Settings">âš™ï¸</button>
                <span id="display-username" style="color:#38bdf8; font-weight:bold; white-space: nowrap;"></span>
            </div>
        </div>

        <div class="lang-menu">
            <button onclick="changeLang('ja')" class="lang-btn">JP</button>
            <button onclick="changeLang('en')" class="lang-btn">EN</button>
        </div>
    </div>

    <header>
        <div class="hero">
            <h1 class="trans" data-ja="Welcome to the reddsec team website!" data-en="Welcome to the reddsec team website!">Welcome to the reddsec team website!</h1>
            <p class="trans" data-ja="ãƒŸãƒ‹ã‚²ãƒ¼ãƒ ã§å‹é”ã¨ç«¶ã„åˆãŠã†ï¼" data-en="Here you can play several mini-gamesâ€”compete with your friends!">ãƒŸãƒ‹ã‚²ãƒ¼ãƒ ã§å‹é”ã¨ç«¶ã„åˆãŠã†ï¼</p>
        </div>
    </header>

    <main>
        <div class="game-container">
            <div class="game-card">
                <div class="card-icon">ğŸ”¥</div>
                <h2 class="trans" data-ja="é€£æ‰“ãƒãƒˆãƒ«" data-en="Renda Battle">é€£æ‰“ãƒãƒˆãƒ«</h2>
                <p class="trans" data-ja="10ç§’é–“ã®é™ç•Œã«æŒ‘ã‚‚ã†ï¼" data-en="Tap as much as you can in 10s!">10ç§’é–“ã®é™ç•Œã«æŒ‘ã‚‚ã†ï¼</p>
                <a href="./renda/index.html" class="play-button">PLAY</a>
            </div>

            <div class="game-card coming-soon">
                <div class="card-icon">ğŸš€</div>
                <h2 class="trans" data-ja="æ¬¡ä½œ æº–å‚™ä¸­" data-en="Next Game">æ¬¡ä½œ æº–å‚™ä¸­</h2>
                <p class="trans" data-ja="ãŠæ¥½ã—ã¿ã«ï¼" data-en="Coming Soon...">ãŠæ¥½ã—ã¿ã«ï¼</p>
                <button class="play-button" disabled>WAIT</button>
            </div>
        </div>
    </main>

    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAuthModal()">&times;</span>
            <div class="tab-menu" id="auth-tabs">
                <button id="tab-login" class="active" onclick="switchTab('login')">Login</button>
                <button id="tab-signup" onclick="switchTab('signup')">Sign Up</button>
            </div>

            <form id="login-form">
                <h3 class="trans" data-ja="ãƒ­ã‚°ã‚¤ãƒ³" data-en="Login">ãƒ­ã‚°ã‚¤ãƒ³</h3>
                <input type="email" id="login-email" placeholder="Email" required>
                <div class="password-wrapper">
                    <input type="password" id="login-pass" placeholder="Password" required>
                </div>
                <div class="show-password-container" onclick="togglePassCheck('login-pass', 'login-check')">
                    <input type="checkbox" id="login-check">
                    <label for="login-check" class="trans" data-ja="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹" data-en="Show password">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹</label>
                </div>
                <button type="submit" class="play-button">Login</button>
            </form>

            <form id="signup-form" style="display:none;">
                <h3 class="trans" data-ja="æ–°è¦ç™»éŒ²" data-en="Sign Up">æ–°è¦ç™»éŒ²</h3>
                <input type="text" id="signup-user" placeholder="Username (15 chars max)" required maxlength="15">
                <input type="email" id="signup-email" placeholder="Email" required>
                <div class="password-wrapper">
                    <input type="password" id="signup-pass" placeholder="Password" required>
                </div>
                <div class="show-password-container" onclick="togglePassCheck('signup-pass', 'signup-check')">
                    <input type="checkbox" id="signup-check">
                    <label for="signup-check" class="trans" data-ja="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹" data-en="Show password">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹</label>
                </div>
                <button type="submit" class="play-button">Register</button>
            </form>

            <div id="verify-area" style="display:none; text-align: center; padding: 10px;">
                <h3 style="color: #38bdf8;" class="trans" data-ja="ãƒ¡ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„" data-en="Check your email">ãƒ¡ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„</h3>
                <p style="font-size: 0.85rem; margin-bottom: 15px;" class="trans" data-ja="å±Šã„ãŸ6æ¡ã®ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚" data-en="Please enter the 6-digit code we sent you.">å±Šã„ãŸ6æ¡ã®ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
                <input type="text" id="verify-code" placeholder="000000" maxlength="6" 
                       style="font-size: 1.8rem; text-align: center; letter-spacing: 5px; width: 180px; margin-bottom: 20px; background: #0d1117; color: white; border: 1px solid #30363d; border-radius: 6px; padding: 10px;">
                <button type="button" onclick="verifyCode()" class="play-button" style="width: 100%;">Verify & Login</button>
                <p style="margin-top: 15px;">
                    <small style="color: #8b949e; cursor:pointer; text-decoration: underline;" onclick="location.reload()" class="trans" data-ja="ç™»éŒ²ã‚’ã‚„ã‚Šç›´ã™" data-en="Try again">ç™»éŒ²ã‚’ã‚„ã‚Šç›´ã™</small>
                </p>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSettingsModal()">&times;</span>
            <h3 class="trans" data-ja="ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š" data-en="Settings">ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š</h3>
            <div class="settings-section">
                <label class="settings-label trans" data-ja="ãƒ¦ãƒ¼ã‚¶ãƒ¼åã®å¤‰æ›´" data-en="Change Username"></label>
                <input type="text" id="new-username" placeholder="New Name" maxlength="15">
                <button type="button" onclick="updateUsername()" class="play-button trans" data-ja="å¤‰æ›´ã‚’ä¿å­˜" data-en="Save Changes">å¤‰æ›´ã‚’ä¿å­˜</button>
            </div>
            <hr style="border: 0; border-top: 1px solid #30363d; margin: 25px 0;">
            <button type="button" onclick="logout()" class="play-button trans" data-ja="ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ" data-en="Logout" style="background: #ef4444; color: white; margin-top: 0;">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
        </div>
    </div>

    <script src="home-script.js"></script>
    <script>
        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆã®æ–°ã—ã„é–¢æ•°
        function togglePassCheck(inputId, checkId) {
            const passInput = document.getElementById(inputId);
            const checkBox = document.getElementById(checkId);
            
            // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹ã«åˆã‚ã›ã¦ã‚¿ã‚¤ãƒ—ã‚’åˆ‡ã‚Šæ›¿ãˆ
            // onclickã§å‘¼ã³å‡ºã™å ´åˆã€ãƒãƒ–ãƒªãƒ³ã‚°ã‚’è€ƒæ…®ã—ã¦å°‘ã—èª¿æ•´
            if (passInput.type === "password") {
                passInput.type = "text";
                checkBox.checked = true;
            } else {
                passInput.type = "password";
                checkBox.checked = false;
            }
        }
    </script>
</body>
</html>
